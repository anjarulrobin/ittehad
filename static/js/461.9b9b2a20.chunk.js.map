{"version":3,"file":"static/js/461.9b9b2a20.chunk.js","mappings":"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","sources":["components/Loader.tsx","apis/approveRequest.ts","apis/getSignUpRequests.ts","components/SignupRequests.tsx"],"sourcesContent":["export function Loader({ message = 'অনুগ্রহপূর্বক অপেক্ষা করুন...' }: { message?: string }) {\n    return (\n        <div className=\"text-center text-sm\">\n            {message}\n        </div>\n    )\n}","import { CommonResponse } from \"../types/common\";\nimport { fetcher } from \"../utils/fetcher\";\n\nexport async function approveRequestApi(phone: string): Promise<CommonResponse> {\n    const authData = JSON.parse(localStorage.getItem('auth') || '');\n    const token = authData?.token;\n    const url = `${process.env.REACT_APP_API_ORIGIN}/auth/approve`;\n\n    const approval: CommonResponse = await fetcher(url,\n        {\n            method: 'POST',\n            headers: {\n                'Content-type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify({ phone }),\n        })\n\n    return approval;\n}","import { UserListResponse } from \"../types/user\";\nimport { fetcher } from \"../utils/fetcher\";\n\nexport async function getSignUpRequestsApi({ skip, limit }: { skip: number, limit: number }): Promise<UserListResponse> {\n    const authData = JSON.parse(localStorage.getItem('auth') || '');\n    const token = authData?.token;\n\n    let url = `${process.env.REACT_APP_API_ORIGIN}/auth/signup-requests?skip=${skip}&limit=${limit}`;\n\n    const users: UserListResponse = await fetcher(url,\n        {\n            method: 'GET',\n            headers: {\n                'Content-type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            }\n        })\n\n    return users;\n}","import { useEffect, useState } from \"react\";\nimport { approveRequestApi } from \"../apis/approveRequest\";\nimport { getSignUpRequestsApi } from \"../apis/getSignUpRequests\";\nimport { User } from \"../types/user\";\nimport { Loader } from \"./Loader\";\n\nexport default function SignupRequests() {\n    const [users, setUsers] = useState<User[]>([]);\n    const LIMIT = 10;\n    const [skip, setSkip] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [approvalMessage, setApprovalMessage] = useState('');\n\n    useEffect(() => {\n        setLoading(true);\n        getSignUpRequestsApi({ skip: skip, limit: LIMIT })\n            .then((users) => {\n                if (users.code === 200) {\n                    for (const user of users.data) {\n                        user.id = user._id;\n                    }\n                    setUsers(users.data);\n                }\n                else {\n                    setUsers([]);\n                }\n            })\n            .catch((err) => console.error(err))\n            .finally(() => setLoading(false));\n    }, [skip]);\n\n\n    return (\n        <div className=\"overflow-scroll p-4\">\n            {\n                approvalMessage && <div className=\"m-2 text-center\">{approvalMessage}</div>\n            }\n            {\n                users.map((user) => (\n                    <div\n                        className=\"m-2 border border-[#20BB96] p-1.5 flex justify-center rounded-lg\"\n                        key={user.id}\n                    >\n                        <div className=\"flex justify-between\">\n                            <div className=\"flex-col mt-1 mb-1\">\n                                <p className=\"text-center font-ittehad-subtitle font-ittehad-kalpurush items-center\">{user?.name}</p>\n                                <div className=\"flex justify-center\">\n                                    <p className=\"w-fit px-0.5 py-0.5 pt-0 pb-0 m-0.5 text-sm bg-[#E1FFF8] text-[#20BB96] rounded-md\">{user?.userType === 'teacher' ? 'ফুজালা' : 'আবনা'}</p>\n                                    <p className=\"w-fit px-0.5 py-0.5 pt-0 pb-0 m-0.5 text-sm bg-[#E1FFF8] text-[#20BB96] rounded-md\">{user?.passingYear}</p>\n                                </div>\n                                <div className=\"flex justify-center\">\n                                    <p className=\"text-sm\">{user.phone}</p>\n                                </div>\n                                <p className=\"text-sm\">বর্তমান ঠিকানা: {user.currentAddress?.village},{user.currentAddress?.post},{user.currentAddress?.upzilla?.bn_name},{user.currentAddress?.district?.bn_name}</p>\n                                <p className=\"text-sm\">স্থায়ী ঠিকানা: {user.permanentAddress?.village},{user.permanentAddress?.post},{user.permanentAddress?.upzilla?.bn_name},{user.permanentAddress?.district?.bn_name}</p>\n                            </div>\n                            <div className=\"flex justify-between\">\n                                <div className=\"m-1\">\n                                    <button\n                                        onClick={() => {\n                                            approveRequestApi(user.phone)\n                                                .then((res) => {\n                                                    if (res.code === 200) {\n                                                        const userList = users.filter((u) => user.phone !== u.phone);\n                                                        setUsers(userList);\n                                                        setApprovalMessage('Request approved!');\n                                                        setTimeout(() => {\n                                                            setApprovalMessage('');\n                                                        }, 1000);\n                                                    }\n                                                    else {\n                                                        setApprovalMessage(res.message);\n                                                        setTimeout(() => {\n                                                            setApprovalMessage('');\n                                                        }, 1000);\n                                                    }\n                                                }).catch((err) => {\n                                                    setApprovalMessage(err.message);\n                                                    setTimeout(() => {\n                                                        setApprovalMessage('');\n                                                    }, 1000);\n                                                })\n                                        }}\n                                    >\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"#20BB96\" className=\"w-6 h-6\">\n                                            <path fillRule=\"evenodd\" d=\"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z\" clipRule=\"evenodd\" />\n                                        </svg>\n                                    </button>\n                                </div>\n                                <div className=\"m-1\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"red\" className=\"w-6 h-6\">\n                                        <path fillRule=\"evenodd\" d=\"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z\" clipRule=\"evenodd\" />\n                                    </svg>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                ))\n            }\n            {\n                loading === true ?\n                    <Loader /> :\n                    (<div className=\"bg-[#20BB96] rounded-lg w-full p-1 mt-2 text-center\" >\n                        <button\n                            onClick={() => {\n                                setSkip(skip + LIMIT)\n                            }}\n                        > Show More\n                        </button>\n                    </div>)\n            }\n\n        </div>\n    )\n}"],"names":["Loader","message","className","phone","authData","JSON","parse","localStorage","getItem","token","url","process","fetcher","method","headers","body","stringify","approval","skip","limit","users","SignupRequests","useState","setUsers","setSkip","loading","setLoading","approvalMessage","setApprovalMessage","useEffect","getSignUpRequestsApi","then","code","data","user","id","_id","catch","err","console","error","finally","map","name","userType","passingYear","currentAddress","village","post","upzilla","bn_name","district","permanentAddress","onClick","approveRequestApi","res","userList","filter","u","setTimeout","xmlns","viewBox","fill","fillRule","d","clipRule"],"sourceRoot":""}