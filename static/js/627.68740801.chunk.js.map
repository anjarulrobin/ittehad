{"version":3,"file":"static/js/627.68740801.chunk.js","mappings":"kJAAO,SAASA,IACZ,OACI,gBAAKC,UAAU,sBAAqB,kKAI5C,C,6ICHO,SAAeC,EAAS,GAAD,+BAW7B,8CAXM,WAAwBC,GAAsB,8EACF,OAAzCC,EAAG,UAAMC,+CAAgC,yBACLC,EAAAA,EAAAA,GAAQF,EAC9C,CACIG,OAAQ,OACRC,KAAMC,KAAKC,UAAUP,GACrBQ,QAAS,CACL,eAAgB,sBAErB,KAAD,EAP2B,OAA3BC,EAA2B,yBAQ1BA,GAAY,4CACtB,sBCdM,SAASC,EAAYC,EAAgBC,GACxC,IACI,OAAOD,EAAKC,EAIhB,CAFA,MAAOC,GACHC,QAAQC,MAAM,mBAAoBF,EAAK,cAAeF,EAC1D,CACJ,C,uBCAe,SAASK,IACpB,OAAwBC,EAAAA,EAAAA,YAA4B,eAA7CjB,EAAI,KAAEkB,EAAO,KACdC,GAAWC,EAAAA,EAAAA,MACjB,GAAkCH,EAAAA,EAAAA,UAA+C,CAAEI,MAAM,EAAOC,QAAS,KAAK,eAAvGC,EAAS,KAAEC,EAAY,KAC9B,GAA8BP,EAAAA,EAAAA,WAAS,GAAM,eAAtCQ,EAAO,KAAEC,EAAU,KAEpBC,EAAY,yCAAG,WAAOC,GAA8B,4EAErC,OADjBA,EAAGC,iBACHH,GAAW,GAAM,SACEhB,EAASX,EAAUC,GAAK,OAEzB,OAFZ8B,EAAI,QAEDC,MACLC,aAAaC,QAAQ,OAAQ3B,KAAKC,UAAU,CAAE2B,MAAOJ,EAAKA,KAAKI,SAC/Df,EAAS,WAAY,CAAEgB,SAAS,MAGhCT,GAAW,GACXF,EAAa,CAAEH,MAAM,EAAMC,QAAS,CAACQ,EAAKf,OAASe,EAAKM,YAC3D,2CACJ,gBAbiB,sCAelB,OACI,iBAAKtC,UAAU,MAAK,WAChB,cAAGA,UAAU,qCAAoC,kEACjD,gBAAKA,UAAU,sBAAqB,UAChC,kBAAMA,UAAU,GAAGuC,OAAO,IAAIC,SAAUX,EAAa,WACjD,iBAAK7B,UAAU,MAAK,WAChB,kBAAOyC,QAAQ,QAAQzC,UAAU,iBAAgB,oDACjD,kBACI0C,KAAK,QACLC,KAAK,QACLC,SAAU,SAACd,GAAE,OAAKV,GAAQ,gBAAEyB,SAAU,IAAO3C,GAAI,IAAE4C,MAAOhB,EAAGiB,OAAOC,QAAQ,EAC5EhD,UAAU,+BACViD,YAAY,cACZC,UAAU,QAElB,iBAAKlD,UAAU,MAAK,WAChB,kBAAOyC,QAAQ,WAAWzC,UAAU,iBAAgB,2EACpD,kBACI0C,KAAK,WACLC,KAAK,WACLC,SAAU,SAACd,GAAE,OAAKV,GAAQ,gBAAE0B,MAAO,IAAO5C,GAAI,IAAE2C,SAAUf,EAAGiB,OAAOC,QAAQ,EAC5EhD,UAAU,+BACViD,YAAY,mDACZC,UAAU,OAGdzB,EAAUF,OACN,iBACIvB,UAAU,mCAAkC,cAAGyB,EAAUD,YAIxD,IAAZG,GAAmB,SAAC5B,EAAA,EAAM,KACtB,gBAAKC,UAAU,mCAAkC,UAC9C,mBAAQ0C,KAAK,SAAS1C,UAAU,2BAA0B,0CAMlE,gBAAKA,UAAU,mBAAkB,UAC7B,cAAGmD,KAAK,IAAInD,UAAU,sDAAqD,sIAE/E,gBAAKA,UAAU,2DAA0D,UACrE,cAAGmD,KAAK,IAAInD,UAAU,cAAa,wHAO3D,C,+EC/EO,SAAeK,EAAQ,EAAD,kCAQ5B,8CARM,WAAuBF,EAAaiD,GAAkB,qGAE/BC,MAAMlD,EAAKiD,GAAM,KAAD,EAAzB,OAAPE,EAAO,gBACAA,EAAQC,OAAO,KAAD,mEAG3BvC,QAAQC,MAAM,qBAAqB,EAAD,IAAO,0DAEhD,sB","sources":["components/Loader.tsx","apis/login.ts","utils/trycatch.ts","components/Login.tsx","utils/fetcher.ts"],"sourcesContent":["export function Loader() {\n    return (\n        <div className=\"text-center text-sm\">\n            অনুগ্রহপূর্বক অপেক্ষা করুন...\n        </div>\n    )\n}","import { LoginCredentials, LoginResponse } from \"../types/auth\";\nimport { fetcher } from \"../utils/fetcher\";\n\nexport async function LoginAPI(auth: LoginCredentials): Promise<LoginResponse> {\n    const url = `${process.env.REACT_APP_API_ORIGIN}/auth/login`;\n    const loginReponse: LoginResponse = await fetcher(url,\n        {\n            method: 'POST',\n            body: JSON.stringify(auth),\n            headers: {\n                'Content-type': 'application/json'\n            }\n        });\n    return loginReponse;\n}","export function tryCatch<T>(func: Function, params: T) {\n    try {\n        return func(params);\n    }\n    catch (err) {\n        console.error('Unexpected error', err, 'In function', func);\n    }\n}","import { FormEvent, useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\";\nimport { LoginAPI } from \"../apis/login\";\nimport { LoginCredentials, LoginResponse } from \"../types/auth\";\nimport { tryCatch } from \"../utils/trycatch\";\nimport { Loader } from \"./Loader\";\n\nexport default function Login() {\n    const [auth, setAuth] = useState<LoginCredentials>();\n    const navigate = useNavigate();\n    const [authError, setAuthError] = useState<{ flag: boolean, details: string[] }>({ flag: false, details: [] });\n    const [loading, setLoading] = useState(false);\n\n    const handleSubmit = async (ev: FormEvent<HTMLFormElement>) => {\n        ev.preventDefault();\n        setLoading(true);\n        const data = await tryCatch(LoginAPI, auth) as LoginResponse;\n\n        if (data.code === 200) {\n            localStorage.setItem('auth', JSON.stringify({ token: data.data.token }));\n            navigate('/general', { replace: true });\n        }\n        else {\n            setLoading(false);\n            setAuthError({ flag: true, details: [data.error || data.message] });\n        }\n    }\n\n    return (\n        <div className=\"m-4\">\n            <p className=\"mb-2 text-lg text-center font-bold\"> লগ ইন করুন</p>\n            <div className=\"flex justify-center\">\n                <form className=\"\" action=\"#\" onSubmit={handleSubmit}>\n                    <div className=\"m-2\">\n                        <label htmlFor=\"phone\" className=\"w-full text-sm\">মোবাইল </label>\n                        <input\n                            type=\"phone\"\n                            name=\"phone\"\n                            onChange={(ev) => setAuth({ password: '', ...auth, phone: ev.target.value })}\n                            className=\"w-full border p-1 rounded-lg\"\n                            placeholder=\"01800123456\"\n                            required={true} />\n                    </div>\n                    <div className=\"m-2\">\n                        <label htmlFor=\"password\" className=\"w-full text-sm\">পাসওয়ার্ড</label>\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            onChange={(ev) => setAuth({ phone: '', ...auth, password: ev.target.value })}\n                            className=\"w-full border p-1 rounded-lg\"\n                            placeholder=\"••••••••\"\n                            required={true} />\n                    </div>\n                    {\n                        authError.flag && (\n                            <div\n                                className=\"text-red-400 text-xs text-center\"> {authError.details}\n                            </div>\n                        )\n                    }\n                    {loading === true ? <Loader /> :\n                        (<div className=\"m-2 mt-4 bg-[#20BB96] rounded-lg\"                    >\n                            <button type=\"submit\" className=\"p-1.5 text-center w-full\"                        >\n                                লগ ইন\n                            </button>\n                        </div>)\n                    }\n\n                    <div className=\"flex justify-end\">\n                        <a href=\"#\" className=\"text-xs font-medium border-b-[1px] border-[#20BB96]\">পাসওয়ার্ড ভুলে গেছেন?</a>\n                    </div>\n                    <div className=\"text-sm font-light m-1 w-fit border-b-2 border-[#20BB96]\">\n                        <a href=\"#\" className=\"font-medium\">রেজিস্ট্রেশন করুন</a>\n                    </div>\n                </form>\n            </div>\n        </div>\n\n    )\n}","export async function fetcher(url: string, init?: RequestInit) {\n    try {\n        const rawData = await fetch(url, init);\n        return await rawData.json();\n    }\n    catch (err) {\n        console.error('Error network call', err);\n    }\n}"],"names":["Loader","className","LoginAPI","auth","url","process","fetcher","method","body","JSON","stringify","headers","loginReponse","tryCatch","func","params","err","console","error","Login","useState","setAuth","navigate","useNavigate","flag","details","authError","setAuthError","loading","setLoading","handleSubmit","ev","preventDefault","data","code","localStorage","setItem","token","replace","message","action","onSubmit","htmlFor","type","name","onChange","password","phone","target","value","placeholder","required","href","init","fetch","rawData","json"],"sourceRoot":""}